<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.1.5.1 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="00:00:00"/>
	<style type="text/css">
		@page { size: 8.27in 11.69in; margin: 0.79in }
		p { margin-bottom: 0.1in; line-height: 115%; background: transparent }
		pre { font-family: "Liberation Mono", monospace; font-size: 10pt; background: transparent }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="ltr"><pre>/** CQ1: Find the temporal reconstruction of the workflow design */

		String sparql =&quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX dcterm:&lt;http://purl.org/dc/terms/&gt; &quot; + 
				&quot;PREFIX rdfs:&lt;http://www.w3.org/2000/01/rdf-schema#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt; &quot; + 				
				
				&quot;CONSTRUCT { &quot; + 
				&quot;?creation a weprov:Creation; a ?activityType; prov:startedAtTime ?startTime. &quot; + 
				&quot;?creation prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName. &quot; + 
				&quot;?generation a prov:Generation; prov:atTime ?genTime; prov:activity ?creation; prov:generated ?workflow. ?workflow prov:qualifiedGeneration ?generation; prov:wasGeneratedBy ?creation. ?aGeneration weprov:wasPartOf ?generation.&quot; + 
				&quot;?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime. &quot; + 
				&quot;?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName. &quot; + 
				&quot;?renaming prov:activity ?modification; a weprov:Renaming; dcterm:title ?title; dcterm:description ?description; prov:agent ?renamedAgent. &quot; + 
				&quot;?revision a prov:Revision; prov:atTime ?revTime; weprov:revision ?revisionNo; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision. ?revision weprov:wasPartOf ?pRevision.  &quot; + 
				&quot;?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen. &quot; + 
				&quot;?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.&quot;+
				&quot;} &quot; + 				
				&quot;FROM &lt;http://weprov.csiro.au/&gt; &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE {  &quot; + 
				&quot;{ ?creation a weprov:Creation; a ?activityType; prov:startedAtTime ?startTime. OPTIONAL {?creation prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName} ?generation a prov:Generation; prov:atTime ?genTime; prov:activity ?creation; prov:generated ?workflowId. OPTIONAL {?aGeneration weprov:wasPartOf ?generation.} ?workflowId prov:qualifiedGeneration ?generation; prov:wasGeneratedBy ?creation.  &quot; + 
				&quot;FILTER (?workflowId = ?workflow) { SELECT ?workflow WHERE { &lt;http://weprov.csiro.au/workflow/urn:lsid:net.sf.taverna:wfDefinition:618ac202-acf6-4695-bdc6-ca0078be3649&gt;  (provone:hasSubProgram/provone:hasSubProgram)*  ?workflow.} }  }  &quot; + 
				&quot;UNION { &quot; + 
				&quot;{?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime. OPTIONAL {?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName} OPTIONAL {?renaming prov:activity ?modification; a weprov:Renaming. OPTIONAL{?renaming dcterm:title ?title}. OPTIONAL{?renaming dcterm:description ?description}. OPTIONAL{?renaming prov:agent ?renamedAgent}} ?revision a prov:Revision; prov:atTime ?revTime; weprov:revision ?revisionNo; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision. OPTIONAL {?revision weprov:wasPartOf ?pRevision}  OPTIONAL {?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen.} OPTIONAL {?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.} } &quot; + 
				&quot;FILTER (?workflowId = ?workflow) { SELECT ?workflow WHERE { &lt;http://weprov.csiro.au/workflow/urn:lsid:net.sf.taverna:wfDefinition:618ac202-acf6-4695-bdc6-ca0078be3649&gt;  (provone:hasSubProgram/provone:hasSubProgram)*  ?workflow.} }} &quot; + 
				&quot;}&quot;;
				
				
/** CQ2: Identify different types of changes in a revision of the workflow.*/ 

		String sparql =&quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX dcterm:&lt;http://purl.org/dc/terms/&gt; &quot; + 
				&quot;PREFIX rdfs:&lt;http://www.w3.org/2000/01/rdf-schema#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt; &quot; + 
				
				&quot;CONSTRUCT {?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime. &quot; + 
				&quot;?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName. &quot; + 
				&quot;?renaming prov:activity ?modification; a weprov:Renaming; dcterm:title ?title; dcterm:description ?description; prov:agent ?renamedAgent. &quot; + 
				&quot;?revision a prov:Revision; prov:atTime ?revTime; weprov:revision \&quot;&quot;+ revision + &quot;\&quot;; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision. ?revision weprov:wasPartOf ?pRevision.  &quot; + 
				&quot;?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen. &quot; + 
				&quot;?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.} &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/&gt; &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE { &quot; + 
				&quot;?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime. &quot; + 
				&quot;OPTIONAL {?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName} &quot; + 
				&quot;OPTIONAL {?renaming prov:activity ?modification; a weprov:Renaming. OPTIONAL{?renaming dcterm:title ?title}. OPTIONAL{?renaming dcterm:description ?description}. OPTIONAL{?renaming prov:agent ?renamedAgent}} &quot; + 
				&quot;?revision a prov:Revision; prov:atTime ?revTime; weprov:revision \&quot;&quot;+ revision + &quot;\&quot;; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision. OPTIONAL {?revision weprov:wasPartOf ?pRevision}  &quot; + 
				&quot;OPTIONAL {?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen.} &quot; + 
				&quot;OPTIONAL {?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.} &quot; + 
				&quot;FILTER (?workflowId = ?workflow) &quot; + 
				&quot; { SELECT ?workflow  &quot; + 
				&quot;   WHERE { &lt;&quot;+workflowId+&quot;&gt;  (provone:hasSubProgram/provone:hasSubProgram)*  ?workflow.} }  &quot; + 
				&quot;}&quot;;
				
				
/** CQ3:  Report the reason(s) of divergent results of two executions of a workflow.*/ 

		String sparql =&quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX dcterm:&lt;http://purl.org/dc/terms/&gt; &quot; + 
				&quot;PREFIX rdfs:&lt;http://www.w3.org/2000/01/rdf-schema#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt; &quot; + 
				
				&quot;CONSTRUCT {?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime. &quot; + 
				&quot;?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName. &quot; + 
				&quot;?renaming prov:activity ?modification; a weprov:Renaming; dcterm:title ?title; dcterm:description ?description; prov:agent ?renamedAgent. &quot; + 
				&quot;?revision a prov:Revision; prov:atTime ?revTime; weprov:revision ?revisionNo; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision. ?revision weprov:wasPartOf ?pRevision.  &quot; + 
				&quot;?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen. &quot; + 
				&quot;?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.} &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/&gt; &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE { &quot; + 
				&quot;?modification a weprov:Modification; a ?activityType; prov:startedAtTime ?startTime.  &quot; + 
				&quot;OPTIONAL {?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName}  &quot; + 
				&quot;OPTIONAL {?renaming prov:activity ?modification; a weprov:Renaming. OPTIONAL {?renaming dcterm:title ?title}. OPTIONAL{?renaming dcterm:description ?description}. OPTIONAL{?renaming prov:agent ?renamedAgent}}  &quot; + 
				&quot;?revision a prov:Revision; prov:atTime ?time; weprov:revision ?revisionNo; prov:activity ?modification; prov:wasRevisionOf ?workflowId. ?workflowId prov:qualifiedRevision ?revision.  &quot; + 
				&quot;OPTIONAL {?revision weprov:wasPartOf ?pRevision}   &quot; + 
				&quot;OPTIONAL {?revision prov:hadGeneration ?gen. ?gen a prov:Generation; prov:atTime ?genTime; prov:activity ?modification. ?entity prov:qualifiedGeneration ?gen.}  &quot; + 
				&quot;OPTIONAL {?revision prov:hadInvalidation ?invalid. ?invalid a prov:Invalidation; prov:atTime ?invalidTime; prov:activity ?modification; prov:entity ?invalidEntity.}   &quot; + 
				&quot;FILTER ((?time &gt;= \&quot;&quot;+firstTime+&quot;\&quot;^^xsd:dateTime) &amp;&amp; (?time &lt;= \&quot;&quot;+lastTime+&quot;\&quot;^^xsd:dateTime) ) &quot; + 
				&quot;FILTER (?workflowId = ?workflow) &quot; + 
				&quot;{ SELECT ?workflow  &quot; + 
				&quot;WHERE { &lt;&quot;+workflowId+&quot;&gt;  (provone:hasSubProgram/provone:hasSubProgram)*  ?workflow.} }  &quot; + 
				&quot;}&quot;;
				
/** CQ4:  Which one is the most unstable component of the workflow? */ 

		String sparql =&quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;CONSTRUCT {?workflowId weprov:hasRevisions ?revisions} &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE { &quot; + 
				&quot;	SELECT ?workflowId (max(?revCount) As ?revisions) &quot; + 
				&quot;	FROM &lt;http://weprov.csiro.au/&gt; &quot; + 
				&quot;	FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;	WHERE { &quot; + 
				&quot;		?modification a weprov:Modification. &quot; + 
				&quot;		?revision a prov:Revision; weprov:revision ?revCount; prov:activity ?modification; prov:wasRevisionOf ?workflowId.  &quot; + 
				&quot;	FILTER (?workflowId = ?workflow) &quot; + 
				&quot;		{ &quot;+
				&quot;			SELECT ?workflow  &quot; + 
				&quot;   		WHERE { &lt;&quot;+workflowId+&quot;&gt;  (provone:hasSubProgram/provone:hasSubProgram)*  ?workflow.} &quot;+
				&quot;		}  &quot; + 
				&quot;	  } Group By (?workflowId)  &quot; + 
				&quot;}&quot;;
				
/** CQ5: Identify all the agents who have participated in the design of the workflow.*/ 

		String sparql =&quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;Construct &quot; +
				&quot;{ ?activity a ?type; prov:wasAssociatedWith ?agentId. ?agentId foaf:name ?agent. } &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;Where{ &quot; + 
				&quot;    VALUES ?type {weprov:Creation weprov:Invalidation weprov:Modification} &quot; + 
				&quot;    ?activity a ?type; &quot; + 
				&quot;    prov:wasAssociatedWith ?agentId. ?agentId foaf:name ?agent. &quot; + 
				&quot;	 { 	{&lt;&quot;+workflowId+&quot;&gt; prov:wasGeneratedBy ?activity.} UNION &quot; +
				&quot;		{&lt;&quot;+workflowId+&quot;&gt; prov:wasInvalidatedBy ?activity.} UNION &quot; +
				&quot;		{&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedRevision/prov:activity ?activity.} &quot; +
				&quot;	 }&quot; + 
				&quot;}&quot;;
				
/**  CQ6: Who is responsible for a change (revision) in the workflow */

		String sparql = &quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt; &quot; + 
				&quot;Construct { ?revision prov:wasAssociatedWith ?agent. ?agent foaf:name ?agent. } &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE { &quot; + 
				&quot;?modification a weprov:Modification. &quot; + 
				&quot;OPTIONAL {?modification prov:wasAssociatedWith ?agent. ?agent a ?agentType; foaf:name ?agentName} &quot; + 
				&quot;?revision a prov:Revision; weprov:revision \&quot;&quot;+ revision + &quot;\&quot;; prov:activity ?modification; prov:wasRevisionOf &lt;&quot;+workflowId+&quot;&gt;. &quot; + 
				&quot;}&quot;;
				
/** CQ7: Who participated in the first version of the workflow?**/

		String sparql = &quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
				&quot;CONSTRUCT { ?generation prov:wasAssociatedWith ?agent; prov:generated &lt;&quot;+workflowId+&quot;&gt;. ?agent foaf:name ?agent. } &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
				&quot;WHERE {  &quot; + 
				&quot;?creation a weprov:Creation.  &quot; + 
				&quot;?generation a prov:Generation; prov:activity ?creation; prov:generated &lt;&quot;+workflowId+&quot;&gt;.  &quot; + 
				&quot;OPTIONAL {?creation prov:wasAssociatedWith ?agent. ?agent foaf:name ?agentName.}  &quot; + 
				&quot;}&quot;;
				
/** CQ8: Find all workflows (or versions of a workflow) where an agent has participated.*/

			String sparql = &quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
					&quot;		PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
					&quot;		PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
					&quot;		CONSTRUCT {?workflowId prov:wasAttributedTo ?agentId. ?agentId foaf:name ?name.} &quot; + 
					&quot;		FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;		WHERE { &quot; +
					&quot; 		{?workflowId prov:wasGeneratedBy|prov:wasInvalidatedBy ?activity.} UNION &quot;+
					&quot;		{?workflowId (prov:qualifiedDerivation|prov:qualifiedRevision)/prov:activity ?activity.} &quot; + 
					&quot;		?activity prov:wasAssociatedWith ?agentId. ?agentId foaf:name ?name. &quot; + 
					&quot;		FILTER regex(?name, \&quot;&quot;+name+&quot;\&quot;, \&quot;i\&quot;) &quot; + 
					&quot;		}&quot;;
					
/** CQ9: Find the collaborative researchers and their collaboration count of designing workflows together.
	 * Users need to know researchers (i.e., agents) who most often collaborate and their count of collaborative workflows. **/
	 
			String sparql = &quot;PREFIX provone:&lt;http://purl.dataone.org/provone/2015/01/15/ontology#&gt; &quot; + 
				&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
				&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
				&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
				&quot;CONSTRUCT { &quot; + 
				&quot;?workflow prov:wasAttributedTo ?agentId1. &quot; + 
				&quot;?workflow prov:wasAttributedTo ?agentId2 }  &quot; + 
				&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot; +
				&quot;WHERE { &quot; + 
				&quot;{?workflow prov:wasGeneratedBy|prov:wasInvalidatedBy ?activity.} UNION {?workflow (prov:qualifiedDerivation|prov:qualifiedRevision)/prov:activity ?activity.} ?activity prov:wasAssociatedWith ?agentId1. &quot; + 
				&quot;{?workflow prov:wasGeneratedBy|prov:wasInvalidatedBy ?activity2.} UNION {?workflow (prov:qualifiedDerivation|prov:qualifiedRevision)/prov:activity ?activity2.} ?activity2 prov:wasAssociatedWith ?agentId2. &quot; + 
				&quot;FILTER (?agentId1 != ?agentId2) &quot; + 
				&quot;}&quot;;

/** CQ10: When a (first/last) version of the workflow is created? 
	* When different versions of a workflow are created. **/
	
			String sparql =&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
					&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
					&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
					&quot;CONSTRUCT {&quot;+
					&quot;&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedGeneration ?generation. ?generation prov:atTime ?generationTime. &quot; + 
					&quot;&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedDerivation ?derivation. ?derivation prov:atTime ?derivationTime. &quot; + 
					&quot;&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedRevision ?revision. ?revision prov:atTime ?revisionTime. &quot; + 
					&quot;&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedInvalidation ?invalidation. ?invalidation prov:atTime ?invalidationTime. &quot; + 
					&quot;} &quot; + 
					&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;WHERE { &quot; +
					&quot;{&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedGeneration ?generation. ?generation prov:atTime ?generationTime} UNION &quot;+
					&quot;{&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedDerivation ?derivation. ?derivation prov:atTime ?derivationTime} UNION &quot;+
					&quot;{&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedRevision ?revision. ?revision prov:atTime ?revisionTime} UNION &quot;+
					&quot;{&lt;&quot;+workflowId+&quot;&gt; prov:qualifiedInvalidation ?invalidation. ?invalidation prov:atTime ?invalidationTime}&quot;+
					&quot;} &quot;;
					
/** CQ11: (a) How long an agent participated in a workflow?  */
							
			String sparql =&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
					&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
					&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
					&quot;CONSTRUCT {&lt;&quot;+workflowId+&quot;&gt; prov:wasAttributedTo ?agentId. ?agentId prov:startedAtTime ?startTime; prov:endedAtTime ?endTime.}  &quot; + 
					&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;WHERE { &quot; + 
					&quot;SELECT ?agentId (min(?time) AS ?startTime)  (max(?time) AS ?endTime) &quot; + 
					&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;WHERE { &quot; + 
					&quot;    { {&lt;&quot;+workflowId+&quot;&gt; prov:wasGeneratedBy|prov:wasInvalidatedBy ?activity.} UNION  &quot; + 
					&quot;      {&lt;&quot;+workflowId+&quot;&gt; (prov:qualifiedDerivation|prov:qualifiedRevision)/prov:activity ?activity.} }  &quot; + 
					&quot;?activity prov:startedAtTime ?time; prov:wasAssociatedWith ?agentId. ?agentId foaf:name ?name. &quot; + 
					&quot;FILTER regex(?name, \&quot;&quot;+agentName+&quot;\&quot;, \&quot;i\&quot;) &quot; + 
					&quot;} GROUP BY ?agentId &quot; + 
					&quot;} &quot;;
					
/** CQ11: (b) How long an agent participated in a repository of the workflow  */

			String sparql =&quot;PREFIX prov:&lt;http://www.w3.org/ns/prov#&gt; &quot; + 
					&quot;PREFIX weprov:&lt;http://www.csiro.au/digiscape/weprov#&gt; &quot; + 
					&quot;PREFIX foaf:&lt;http://xmlns.com/foaf/0.1/&gt;  &quot; + 
					&quot;CONSTRUCT {?workflow prov:wasAttributedTo ?agentId. ?agentId prov:startedAtTime ?startTime; prov:endedAtTime ?endTime.}  &quot; + 
					&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;WHERE { &quot; + 
					&quot;SELECT ?agentId (min(?time) AS ?startTime)  (max(?time) AS ?endTime) &quot; + 
					&quot;FROM &lt;http://weprov.csiro.au/evolution/&gt; &quot;+
					&quot;WHERE { &quot; + 
					&quot;    { {?workflow prov:wasGeneratedBy|prov:wasInvalidatedBy ?activity.} UNION  &quot; + 
					&quot;      {?workflow (prov:qualifiedDerivation|prov:qualifiedRevision)/prov:activity ?activity.} }  &quot; + 
					&quot;?activity prov:startedAtTime ?time; prov:wasAssociatedWith ?agentId. ?agentId foaf:name ?name. &quot; + 
					&quot;FILTER regex(?name, \&quot;&quot;+agentName+&quot;\&quot;, \&quot;i\&quot;) &quot; + 
					&quot;} GROUP BY ?agentId &quot; + 
					&quot;} &quot;;
					</pre>
</body>
</html>